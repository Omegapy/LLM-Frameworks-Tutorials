#----------------------------------------------------------------------------
#                         LangChain Hello World
# ---------------------------------------------------------------------------
#
#  Alejandro Ricciardi (Omegapy)
#  created date: 01/03/2024
#
# --------------------------------------------------------------------------
#
# Projects Description:
# Hello Word using LangChain.
#
# Example of using Langchain LCEL
# https://python.langchain.com/docs/expression_language/get_started
#
#----------------------------------------------------------------------------

#--------------------------------------
#            Dependencies
#--------------------------------------
from langchain_core.output_parsers import StrOutputParser # https://python.langchain.com/docs/modules/model_io/output_parsers
from langchain_core.prompts import ChatPromptTemplate
from langchain_openai import ChatOpenAI

#----- APY Key
import os
from dotenv import load_dotenv,find_dotenv
load_dotenv(find_dotenv())
OPENAI_API_KEY = os.environ.get("OPEN_AI_KEY")
import openai

#----- LangChain

#--------------------------------------
#          Global Scop Var
#--------------------------------------
elon_musk = """
Elon Reeve Musk (/ˈiːlɒn/ EE-lon; born June 28, 1971) is a businessman and investor. He is the founder, chairman, CEO, and chief technology officer of SpaceX; angel investor, CEO, product architect and former chairman of Tesla, Inc.; owner, chairman and CTO of X Corp.; founder of the Boring Company and xAI; co-founder of Neuralink and OpenAI; and president of the Musk Foundation. He is the wealthiest person in the world, with an estimated net worth of US$232 billion as of December 2023, according to the Bloomberg Billionaires Index, and $254 billion according to Forbes, primarily from his ownership stakes in Tesla and SpaceX.[5][6] A member of the wealthy South African Musk family, Elon was born in Pretoria and briefly attended the University of Pretoria before immigrating to Canada at age 18, acquiring citizenship through his Canadian-born mother. Two years later, he matriculated at Queen's University at Kingston in Canada. Musk later transferred to the University of Pennsylvania, and received bachelor's degrees in economics and physics. He moved to California in 1995 to attend Stanford University. However, Musk dropped out after two days and, with his brother Kimbal, co-founded online city guide software company Zip2. The startup was acquired by Compaq for $307 million in 1999, and, that same year Musk co-founded X.com, a direct bank. X.com merged with Confinity in 2000 to form PayPal. In October 2002, eBay acquired PayPal for $1.5 billion, and that same year, with $100 million of the money he made, Musk founded SpaceX, a spaceflight services company. In 2004, he became an early investor in electric vehicle manufacturer Tesla Motors, Inc. (now Tesla, Inc.). He became its chairman and product architect, assuming the position of CEO in 2008. In 2006, Musk helped create SolarCity, a solar-energy company that was acquired by Tesla in 2016 and became Tesla Energy. In 2013, he proposed a hyperloop high-speed vactrain transportation system. In 2015, he co-founded OpenAI, a nonprofit artificial intelligence research company. The following year, Musk co-founded Neuralink—a neurotechnology company developing brain–computer interfaces—and the Boring Company, a tunnel construction company. In 2022, he acquired Twitter for $44 billion. He subsequently merged the company into newly created X Corp. and rebranded the service as X the following year. In March 2023, he founded xAI, an artificial intelligence company. Musk has expressed views that have made him a polarizing figure.[7][8][9] He has been criticized for making unscientific and misleading statements, including COVID-19 misinformation, transphobia[10][11][12] and antisemitic conspiracy theories.[7][13][14][15] His ownership of Twitter has been similarly controversial, including; laying off a large number of employees, an increase in hate speech and misinformation and disinformation on the website, as well as changes to Twitter Blue verification. In 2018, the U.S. Securities and Exchange Commission (SEC) sued him for falsely tweeting that he had secured funding for a private takeover of Tesla. To settle the case, Musk stepped down as the chairman of Tesla and paid a $20 million fine.
Early life and education Childhood and family Further information: Musk family
Elon Reeve Musk was born on June 28, 1971, in Pretoria, South Africa's administrative capital.[16][17] He has British and Pennsylvania Dutch ancestry.[18][19] His mother, Maye Musk (née Haldeman), is a model and dietitian born in Saskatchewan, Canada, and raised in South Africa.[20][21][22] His father, Errol Musk, is a South African electromechanical engineer, pilot, sailor, consultant, and property developer, who partly owned a Zambian emerald mine near Lake Tanganyika, as well as a rental lodge at the Timbavati Private Nature Reserve.[23][24][25][26] Musk has a younger brother, Kimbal, and a younger sister, Tosca.[22][27] Musk's family was wealthy during his youth.[26] His father was elected to the Pretoria City Council as a representative of the anti-apartheid Progressive Party and has said that his children shared their father's dislike of apartheid.[16] His maternal grandfather, Joshua N. Haldeman, was an American-born Canadian who took his family on record-breaking journeys to Africa and Australia in a single-engine Bellanca airplane.[28][29][30][31] After his parents divorced in 1980, Musk chose to live primarily with his father.[18][23] Musk later regretted his decision and became estranged from his father.[32] He has a paternal half-sister and a half-brother.[28][33] In one incident, after having called a boy whose father had committed suicide "stupid", Musk was severely beaten and thrown down concrete steps. His father derided Elon for his behavior and showed no sympathy for him despite his injuries.[34][35] He was also an enthusiastic reader of books, later attributing his success in part to having read Benjamin Franklin: An American Life, Lord of the Flies, the Foundation series, and The Hitchhiker's Guide to the Galaxy.[36][37] At age ten, he developed an interest in computing and video games, teaching himself how to program from the VIC-20 user manual.[38] At age twelve, Musk sold his BASIC-based game Blastar to PC and Office Technology magazine for approximately $500.[39][40]
Education An ornate school building Musk graduated from Pretoria Boys High School in South Africa Musk attended Waterkloof House Preparatory School, Bryanston High School, and Pretoria Boys High School, from where he graduated.[41] Musk was a good but not exceptional student, earning a 61 in Afrikaans and a B on his senior math certification.[42] Musk applied for a Canadian passport through his Canadian-born mother,[43][44] knowing that it would be easier to immigrate to the United States this way.[45] While waiting for his application to be processed, he attended the University of Pretoria for five months.[46]
Musk arrived in Canada in June 1989 and lived with a second cousin in Saskatchewan for a year,[47] working odd jobs at a farm and lumber mill.[48] In 1990, he entered Queen's University in Kingston, Ontario.[49][50] Two years later, he transferred to the University of Pennsylvania (UPenn), where he completed studies for a Bachelor of Arts degree in physics and a Bachelor of Science degree in economics from the Wharton School.[51][52][53][54] Although Musk said he earned the degrees in 1995, UPenn maintains it awarded them in 1997.[55] He reportedly hosted large, ticketed house parties to help pay for tuition, and wrote a business plan for an electronic book-scanning service similar to Google Books.[56] In 1994, Musk held two internships in Silicon Valley: one at energy storage startup Pinnacle Research Institute, which investigated electrolytic ultracapacitors for energy storage, and another at Palo Alto–based startup Rocket Science Games.[57][58] In 1995, he was accepted to a PhD program in materials science at Stanford University.[59][60] However, Musk decided to join the Internet boom, dropping out two days after being accepted and applied for a job at Netscape, to which he reportedly never received a response.[61][43]
Business career Main article: Zip2 External videos video icon Musk speaks of his early business experience during a 2014 commencement speech at USC on YouTube In 1995, Musk, his brother Kimbal, and Greg Kouri founded Global Link Information Network, later renamed to Zip2.[62][63] The company was financed mainly through a financing round of US$200,000, of which 10% was contributed by his father Errol Musk.[64] The company developed an Internet city guide with maps, directions, and yellow pages, and marketed it to newspapers.[65] They worked at a small rented office in Palo Alto,[66] with Musk coding the website every night.[66] Eventually, Zip2 obtained contracts with The New York Times and the Chicago Tribune.[56] The brothers persuaded the board of directors to abandon a merger with CitySearch;[67] however, Musk's attempts to become CEO were thwarted.[68] Compaq acquired Zip2 for $307 million in cash in February 1999,[69][70] and Musk received $22 million for his 7-percent share.[71]
X.com and PayPal Main articles: X.com (bank), PayPal, and PayPal Mafia Later in 1999, Musk co-founded X.com, an online financial services and e-mail payment company with $12 million of the money he made from the Compaq acquisition.[72] X.com was one of the first federally insured online banks, and over 200,000 customers joined in its initial months of operation.[73] Even though Musk founded the company, investors regarded him as inexperienced and replaced him with Intuit CEO Bill Harris by the end of the year.[74] In 2000, X.com merged with online bank Confinity to avoid competition,[66][74][75] as the latter's money-transfer service PayPal was more popular than X.com's service.[76] Musk then returned as CEO of the merged company. His preference for Microsoft over Unix-based software caused a rift among the company's employees, and eventually led Confinity co-founder Peter Thiel to resign.[77] With the company suffering from compounding technological issues and the lack of a cohesive business model, the board ousted Musk and replaced him with Thiel in September 2000.[78][b] Under Thiel, the company focused on the money-transfer service and was renamed PayPal in 2001.[80][81]In 2002, PayPal was acquired by eBay for $1.5 billion in stock, of which Musk—PayPal's largest shareholder with 11.72% of shares—received $175.8 million.[82][83] In 2017, more than 15 years later, Musk purchased the X.com domain from PayPal for its "sentimental value".[84][85] In 2022, Musk discussed a goal of creating "X, the everything app".[86]
SpaceX Main article: SpaceX Musk shakes hands with NASA Administrator Charles Bolden before a SpaceX Dragon capsule Then-NASA Administrator Charles Bolden congratulating Musk by the SpaceX Dragon following its 2012 mission In early 2001, Musk became involved with the nonprofit Mars Society and discussed funding plans to place a growth-chamber for plants on Mars.[87] In October of the same year, he traveled to Moscow with Jim Cantrell and Adeo Ressi to buy refurbished intercontinental ballistic missiles (ICBMs) that could send the greenhouse payloads into space. He met with the companies NPO Lavochkin and Kosmotras; however, Musk was seen as a novice[88] and the group returned to the United States empty-handed. In February 2002, the group returned to Russia with Mike Griffin (president of In-Q-Tel) to look for three ICBMs. They had another meeting with Kosmotras and were offered one rocket for $8 million, which Musk rejected. He instead decided to start a company that could build affordable rockets.[88] With $100 million of his own money,[89] Musk founded SpaceX in May 2002 and became the company's CEO and Chief Engineer.[90][91] SpaceX attempted its first launch of the Falcon 1 rocket in 2006.[92] Though the rocket failed to reach Earth orbit, it was awarded a Commercial Orbital Transportation Services program contract from NASA Administrator (and former SpaceX consultant[93]) Mike Griffin later that year.[94][95] After two more failed attempts that nearly caused Musk and his companies to go bankrupt,[92] SpaceX succeeded in launching the Falcon 1 into orbit in 2008.[96] Later that year, SpaceX received a $1.6 billion Commercial Resupply Services contract from NASA for 12 flights of its Falcon 9 rocket and Dragon spacecraft to the International Space Station, replacing the Space Shuttle after its 2011 retirement.[97] In 2012, the Dragon vehicle docked with the ISS, a first for a commercial spacecraft.[98] 
Musk examining F9R Dev1 debris in 2014
Working towards its goal of reusable rockets, in 2015 SpaceX successfully landed the first stage of a Falcon 9 on an inland platform.[99] Later landings were achieved on autonomous spaceport drone ships, an ocean-based recovery platform.[100] In 2018, SpaceX launched the Falcon Heavy; the inaugural mission carried Musk's personal Tesla Roadster as a dummy payload.[101][102] Since 2019,[103] SpaceX has been developing Starship, a fully-reusable, super-heavy-lift launch vehicle intended to replace the Falcon 9 and the Falcon Heavy.[104] In 2020, SpaceX launched its first crewed flight, the Demo-2, becoming the first private company to place astronauts into orbit and dock a crewed spacecraft with the ISS.[105]
Starlink Main article: Starlink See also: Starlink in the Russo-Ukrainian War 50 Starlink satellites shortly before deployment to low Earth orbit, 2019
In 2015, SpaceX began development of the Starlink constellation of low-Earth-orbit satellites to provide satellite Internet access,[106] with the first two prototype satellites launched in February 2018. A second set of test satellites, and the first large deployment of a piece of the constellation, occurred in May 2019, when the first 60 operational satellites were launched.[107] The total cost of the decade-long project to design, build, and deploy the constellation is estimated by SpaceX to be about $10 billion.[108][c] Some critics, including the International Astronomical Union, have alleged that Starlink blocks the view of the sky and poses a collision threat to spacecraft.[111][112][113] During the Russian invasion of Ukraine, Musk sent Starlink terminals to Ukraine to provide Internet access and communication.[114] In October 2022, Musk stated that about 20,000 satellite terminals had been donated to Ukraine, together with free data transfer subscriptions, which cost SpaceX $80 million. After asking the United States Department of Defense to pay for further units and future subscriptions on behalf of Ukraine,[115] Musk publicly stated that SpaceX would continue to provide Starlink to Ukraine for free, at a yearly cost to itself of $400 million.[116][117][118] At the same time, Musk refused to block Russian state media on Starlink, declaring himself "a free speech absolutist".[119][120]
Tesla Main article: Tesla, Inc. Musks stands, arms crossed and grinning, before a Tesla Model S Musk next to a Tesla Model S, 2011 Tesla, Inc., originally Tesla Motors, was incorporated in July 2003 by Martin Eberhard and Marc Tarpenning, who financed the company until the Series A round of funding. Both men played active roles in the company's early development prior to Musk's involvement.[121] Musk led the Series A round of investment in February 2004; he invested $6.5 million, became the majority shareholder, and joined Tesla's board of directors as chairman.[122] Musk took an active role within the company and oversaw Roadster product design,but was not deeply involved in day-to-day business operations.[123] Following a series of escalating conflicts in 2007, and the financial crisis of 2007–2008, Eberhard was ousted from the firm.[124][page needed][125] Musk assumed leadership of the company as CEO and product architect in 2008.[126] A 2009 lawsuit settlement with Eberhard designated Musk as a Tesla co-founder, along with Tarpenning and two others.[127][128] As of 2019, Musk was the longest-tenured CEO of any automotive manufacturer globally.[129] In 2021, Musk nominally changed his title to "Technoking" while retaining his position as CEO.[130]
Musk speaking with a microphone, a projected image of a Tesla is behind him Musk before a Model X at the 2014 Tesla Inc. annual shareholder meeting Tesla began delivery of an electric sports car, the Roadster, in 2008. With sales of about 2,500 vehicles, it was the first serial production all-electric car to use lithium-ion battery cells.[131] Tesla began delivery of its four-door Model S sedan in 2012.[132] A cross-over, the Model X was launched in 2015.[133] A mass-market sedan, the Model 3, was released in 2017.[134] The Model 3 is the all-time bestselling plug-in electric car worldwide, and in June 2021 it became the first electric car to sell 1 million units globally.[135][136] A fifth vehicle, the Model Y crossover, was launched in 2020.[137] The Cybertruck, an all-electric pickup truck, was unveiled in 2019.[138] Under Musk, Tesla has also constructed multiple lithium-ion battery and electric vehicle factories, named Gigafactories.[139]
 Since its initial public offering in 2010,[140] Tesla stock has risen significantly; it became the most valuable carmaker in summer 2020,[141][142] and it entered the S&P 500 later that year.[143][144] In October 2021, it reached a market capitalization of $1 trillion, the sixth company in U.S. history to do so.[145] In November 2021, Musk proposed, on Twitter, to sell 10% of his Tesla stock, since "much is made lately of unrealized gains being a means of tax avoidance".[146] After more than 3.5 million Twitter accounts supported the sale, Musk sold $6.9 billion of Tesla stock within a week,[146] and a total of $16.4 billion by year end, reaching the 10% target.[147] In February 2022, The Wall Street Journal reported that both Elon and Kimbal Musk were under investigation by the SEC for possible insider trading related to the sale.[148] In 2022, Musk unveiled a robot developed by Tesla, Optimus.[149] On June 20, 2023, Musk met with Indian Prime Minister Narendra Modi in New York City, suggesting that he might be interested in investing in India "as soon as humanly possible".[150] SEC and shareholder lawsuits regarding tweets
In 2018, Musk was sued by the SEC for a tweet stating that funding had been secured for potentially taking Tesla private.[151][d] The lawsuit characterized the tweet as false, misleading, and damaging to investors, and sought to bar Musk from serving as CEO of publicly traded companies.[151][155][156] Two days later, Musk settled with the SEC, without admitting or denying the SEC's allegations. As a result, Musk and Tesla were fined $20 million each, and Musk was forced to step down for three years as Tesla chairman but was able to remain as CEO.[157] Musk has stated in interviews that he does not regret posting the tweet that triggered the SEC investigation.[158][159] In April 2022, the shareholder who sued Musk over the tweet, along with several Tesla shareholders, said that a federal judge had ruled that the tweet was false, although the ruling in question has not been unsealed.[160] In February 2023, the jury found Musk and Tesla not liable.[161]
"""

#--------------------------------------
#            Main Program
#--------------------------------------
if __name__ == '__main__':
    print("\nHello LangChain World!")

    prompt = ChatPromptTemplate.from_template("Summarise the following {topic} about a famous person")
    model = ChatOpenAI(model="gpt-4")
    output_parser = StrOutputParser()

    chain = prompt | model | output_parser

    print(chain.invoke({"topic": elon_musk}))





